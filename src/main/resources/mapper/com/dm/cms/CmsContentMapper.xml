<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dm.cms.sqldao.CmsContentMapper">

<resultMap id="BaseViewResultMap" type="com.dm.cms.model.CmsCheck">
   <result column="id" property="id" jdbcType="INTEGER"/>
   <result column="channel_id" property="channelId" jdbcType="INTEGER"/>
   <result column="title" property="title" jdbcType="VARCHAR"/>
   <result column="channel_type" property="channelType" jdbcType="VARCHAR"/>
   <result column="display_name" property="displayName" jdbcType="VARCHAR"/>
   <result column="url" property="url" jdbcType="VARCHAR"/>
   <result column="status" property="status" jdbcType="VARCHAR"/>
</resultMap>
    <resultMap id="BaseResultMap" type="com.dm.cms.model.CmsContent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="title" property="title" jdbcType="VARCHAR"/>
        <result column="title_image_url" property="titleImageUrl" jdbcType="VARCHAR"/>
        <result column="title_image_illustrate" property="titleImageIllustrate" jdbcType="VARCHAR"/>
        <result column="brief" property="brief" jdbcType="VARCHAR"/>
        <result column="content_type" property="contentType" jdbcType="INTEGER"/>
        <result column="author" property="author" jdbcType="VARCHAR"/>
        <result column="publish_date" property="publishDate" jdbcType="TIMESTAMP"/>
        <result column="channel_id" property="channelId" jdbcType="INTEGER"/>
        <result column="channel_en_name" property="channelEnName" jdbcType="VARCHAR"/>
        <result column="site_domain" property="siteDomain" jdbcType="VARCHAR"/>
        <result column="template_id" property="templateId" jdbcType="INTEGER"/>
        <result column="is_html" property="isHtml" jdbcType="BIT"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP"/>
        <result column="status" property="status" jdbcType="SMALLINT"/>
        <result column="origin" property="origin" jdbcType="VARCHAR"/>
        <result column="url" property="url" jdbcType="VARCHAR"/>
        <result column="is_comment" property="isComment" jdbcType="BIT" />
        <result column="title_style" property="titleStyle" jdbcType="VARCHAR"/>
        <result column="keywords" property="keywords" jdbcType="VARCHAR"/>
        <result column="seq" property="seq" jdbcType="INTEGER"/>
        <result column="code" property="code" jdbcType="VARCHAR"/>
        <result column="filed1" property="filed1" jdbcType="VARCHAR"/>
        <result column="zt_type" property="ztType" jdbcType="VARCHAR"/>
        <result column="zj_type" property="zjType" jdbcType="VARCHAR"/>
        <result column="is_top" property="isTop" jdbcType="BIT"/>
        <result column="is_picture" property="isPicture" jdbcType="BIT"/>
        <result column="is_delete" property="isDelete" jdbcType="BIT"/>
	    <result column="create_user" property="createUser" jdbcType="VARCHAR" />
	    <result column="create_user_name" property="createUserName" jdbcType="VARCHAR" />
	    <result column="checker" property="checker" jdbcType="VARCHAR" />
	    <result column="checker_name" property="checkerName" jdbcType="VARCHAR" />
	    <result column="click_count" property="clickCount" jdbcType="INTEGER" />
	    <result column="delete_user" property="deleteUser" jdbcType="VARCHAR"/>
	     <result column="top_title" property="topTitle" jdbcType="VARCHAR"/>
	    
    </resultMap>
    <resultMap id="AttachmentMap" type="com.dm.cms.model.CmsAttachment">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="attachment_type" jdbcType="SMALLINT" property="attachmentType"/>
        <result column="attachment_name" jdbcType="VARCHAR" property="attachmentName"/>
        <result column="attachment_url" jdbcType="VARCHAR" property="attachmentUrl"/>
        <result column="file_size" jdbcType="BIGINT" property="fileSize"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="create_user" jdbcType="VARCHAR" property="createUser"/>
        <result column="update_time" jdbcType="TIMESTAMP" property="updateTime"/>
        <result column="is_active" jdbcType="BIT" property="isActive"/>
    </resultMap>
    <resultMap id="ResultMapWithBLOBs" type="com.dm.cms.model.CmsContent" extends="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="content_text" property="contentText" jdbcType="LONGVARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        id, title, title_image_url, title_image_illustrate, brief, content_type, author,
        publish_date, channel_id,channel_en_name,site_domain, template_id, is_html, create_time,
        create_user, update_time,url,origin,seq,is_comment,title_style,keywords,
        status,code,filed1,is_top,is_picture,zt_type,zj_type,create_user_name, checker, checker_name, 
    	click_count,is_delete,top_title
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        content_text
    </sql>
    
     <select id="selectTopOne" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from cms_content
        where is_top = 1
        <if test="channelId!=null">
	      and channelId=#{channelId}
        </if>
         and is_html=1 
         and is_delete=0
        order by publish_date desc
      </select>
      <select id="selectIsPictures" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from cms_content
        where is_picture = 1
        <if test="channelId!=null">
	      and channelId=#{channelId}
        </if>
        and is_html=1
         and is_delete=0
        order by publish_date desc
      </select>
    
    <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs"
            parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from cms_content
        where id = #{id,jdbcType=INTEGER}
    </select>
    
     <select id="selectByChannelIds" resultMap="BaseResultMap"
            parameterType="java.util.List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from cms_content
        where channel_id in
			<foreach item="item" index="index" collection="channelIds" open="(" separator="," close=")">  
			  #{item}  
			 </foreach> 
			 <if test="isHtml!=null">
			 	AND is_html = #{isHtml}
			 </if>
			 <if test="isDelete!=null">
			 	and is_delete = #{isDelete}
			 </if>
			 <if test="sort !=null and sort !=''">
			 	order by ${sort}
			 </if>
    </select>
    <select id="selectByLeaderId" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from cms_content
        where filed1 like concat('%',#{leaderId},'%') 
		and is_html=1 
         and is_delete=0
        order by publish_date desc
			
    </select>
    
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from cms_content
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.dm.cms.model.CmsContent" useGeneratedKeys="true"
            keyProperty="id">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into cms_content (id, title, title_image_url, 
      title_image_illustrate, brief, content_type, 
      author, publish_date, channel_id, 
      channel_en_name, site_domain, template_id, 
      is_html, create_time, create_user, 
      update_time, status, origin, 
      url, seq, is_comment, title_style, 
      keywords, code, filed1, 
      zt_type, zj_type, is_top, 
      is_picture, create_user_name, checker, 
      checker_name, click_count, is_delete, 
      delete_user, content_text,top_title)
    values (#{id,jdbcType=INTEGER}, #{title,jdbcType=VARCHAR}, #{titleImageUrl,jdbcType=VARCHAR}, 
      #{titleImageIllustrate,jdbcType=VARCHAR}, #{brief,jdbcType=VARCHAR}, #{contentType,jdbcType=INTEGER}, 
      #{author,jdbcType=VARCHAR}, #{publishDate,jdbcType=TIMESTAMP}, #{channelId,jdbcType=INTEGER}, 
      #{channelEnName,jdbcType=VARCHAR}, #{siteDomain,jdbcType=VARCHAR}, #{templateId,jdbcType=INTEGER}, 
      #{isHtml,jdbcType=BIT}, #{createTime,jdbcType=TIMESTAMP}, #{createUser,jdbcType=VARCHAR}, 
      #{updateTime,jdbcType=TIMESTAMP}, #{status,jdbcType=INTEGER}, #{origin,jdbcType=VARCHAR}, 
      #{url,jdbcType=VARCHAR}, #{seq,jdbcType=INTEGER}, #{isComment,jdbcType=BIT}, #{titleStyle,jdbcType=VARCHAR}, 
      #{keywords,jdbcType=VARCHAR}, #{code,jdbcType=VARCHAR}, #{filed1,jdbcType=VARCHAR}, 
      #{ztType,jdbcType=VARCHAR}, #{zjType,jdbcType=VARCHAR}, #{isTop,jdbcType=BIT}, 
      #{isPicture,jdbcType=BIT}, #{createUserName,jdbcType=VARCHAR}, #{checker,jdbcType=VARCHAR}, 
      #{checkerName,jdbcType=VARCHAR}, #{clickCount,jdbcType=INTEGER}, #{isDelete,jdbcType=BIT}, 
      #{deleteUser,jdbcType=VARCHAR}, #{contentText,jdbcType=LONGVARCHAR},#{topTitle,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.dm.cms.model.CmsContent" useGeneratedKeys="true"
            keyProperty="id">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
       insert into cms_content
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="title != null" >
        title,
      </if>
      <if test="titleImageUrl != null" >
        title_image_url,
      </if>
      <if test="titleImageIllustrate != null" >
        title_image_illustrate,
      </if>
      <if test="brief != null" >
        brief,
      </if>
      <if test="contentType != null" >
        content_type,
      </if>
      <if test="author != null" >
        author,
      </if>
      <if test="publishDate != null" >
        publish_date,
      </if>
      <if test="channelId != null" >
        channel_id,
      </if>
      <if test="channelEnName != null" >
        channel_en_name,
      </if>
      <if test="siteDomain != null" >
        site_domain,
      </if>
      <if test="templateId != null" >
        template_id,
      </if>
      <if test="isHtml != null" >
        is_html,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="createUser != null" >
        create_user,
      </if>
      <if test="updateTime != null" >
        update_time,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="origin != null" >
        origin,
      </if>
      <if test="url != null" >
        url,
      </if>
      <if test="seq != null" >
        seq,
      </if>
      <if test="isComment != null" >
        is_comment,
      </if>
      <if test="titleStyle != null" >
        title_style,
      </if>
      <if test="keywords != null" >
        keywords,
      </if>
      <if test="code != null" >
        code,
      </if>
      <if test="filed1 != null" >
        filed1,
      </if>
      <if test="ztType != null" >
        zt_type,
      </if>
      <if test="zjType != null" >
        zj_type,
      </if>
      <if test="isTop != null" >
        is_top,
      </if>
      <if test="isPicture != null" >
        is_picture,
      </if>
      <if test="createUserName != null" >
        create_user_name,
      </if>
      <if test="checker != null" >
        checker,
      </if>
      <if test="checkerName != null" >
        checker_name,
      </if>
      <if test="clickCount != null" >
        click_count,
      </if>
      <if test="isDelete != null" >
        is_delete,
      </if>
      <if test="deleteUser != null" >
        delete_user,
      </if>
      <if test="contentText != null" >
        content_text,
      </if>
      <if test="topTitle != null" >
        top_title,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="title != null" >
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="titleImageUrl != null" >
        #{titleImageUrl,jdbcType=VARCHAR},
      </if>
      <if test="titleImageIllustrate != null" >
        #{titleImageIllustrate,jdbcType=VARCHAR},
      </if>
      <if test="brief != null" >
        #{brief,jdbcType=VARCHAR},
      </if>
      <if test="contentType != null" >
        #{contentType,jdbcType=INTEGER},
      </if>
      <if test="author != null" >
        #{author,jdbcType=VARCHAR},
      </if>
      <if test="publishDate != null" >
        #{publishDate,jdbcType=TIMESTAMP},
      </if>
      <if test="channelId != null" >
        #{channelId,jdbcType=INTEGER},
      </if>
      <if test="channelEnName != null" >
        #{channelEnName,jdbcType=VARCHAR},
      </if>
      <if test="siteDomain != null" >
        #{siteDomain,jdbcType=VARCHAR},
      </if>
      <if test="templateId != null" >
        #{templateId,jdbcType=INTEGER},
      </if>
      <if test="isHtml != null" >
        #{isHtml,jdbcType=BIT},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null" >
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="origin != null" >
        #{origin,jdbcType=VARCHAR},
      </if>
      <if test="url != null" >
        #{url,jdbcType=VARCHAR},
      </if>
      <if test="seq != null" >
        #{seq,jdbcType=INTEGER},
      </if>
      <if test="isComment != null" >
        #{isComment,jdbcType=BIT},
      </if>
      <if test="titleStyle != null" >
        #{titleStyle,jdbcType=VARCHAR},
      </if>
      <if test="keywords != null" >
        #{keywords,jdbcType=VARCHAR},
      </if>
      <if test="code != null" >
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="filed1 != null" >
        #{filed1,jdbcType=VARCHAR},
      </if>
      <if test="ztType != null" >
        #{ztType,jdbcType=VARCHAR},
      </if>
      <if test="zjType != null" >
        #{zjType,jdbcType=VARCHAR},
      </if>
      <if test="isTop != null" >
        #{isTop,jdbcType=BIT},
      </if>
      <if test="isPicture != null" >
        #{isPicture,jdbcType=BIT},
      </if>
      <if test="createUserName != null" >
        #{createUserName,jdbcType=VARCHAR},
      </if>
      <if test="checker != null" >
        #{checker,jdbcType=VARCHAR},
      </if>
      <if test="checkerName != null" >
        #{checkerName,jdbcType=VARCHAR},
      </if>
      <if test="clickCount != null" >
        #{clickCount,jdbcType=INTEGER},
      </if>
      <if test="isDelete != null" >
        #{isDelete,jdbcType=BIT},
      </if>
      <if test="deleteUser != null" >
        #{deleteUser,jdbcType=VARCHAR},
      </if>
      <if test="contentText != null" >
        #{contentText,jdbcType=LONGVARCHAR},
      </if>
       <if test="topTitle != null" >
        #{topTitle,jdbcType=VARCHAR},
      </if>
    </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.dm.cms.model.CmsContent" >
    update cms_content
    <set >
      <if test="title != null" >
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="titleImageUrl != null" >
        title_image_url = #{titleImageUrl,jdbcType=VARCHAR},
      </if>
      <if test="titleImageIllustrate != null" >
        title_image_illustrate = #{titleImageIllustrate,jdbcType=VARCHAR},
      </if>
      <if test="brief != null" >
        brief = #{brief,jdbcType=VARCHAR},
      </if>
      <if test="contentType != null" >
        content_type = #{contentType,jdbcType=INTEGER},
      </if>
      <if test="author != null" >
        author = #{author,jdbcType=VARCHAR},
      </if>
      <if test="publishDate != null" >
        publish_date = #{publishDate,jdbcType=TIMESTAMP},
      </if>
      <if test="channelId != null" >
        channel_id = #{channelId,jdbcType=INTEGER},
      </if>
      <if test="channelEnName != null" >
        channel_en_name = #{channelEnName,jdbcType=VARCHAR},
      </if>
      <if test="siteDomain != null" >
        site_domain = #{siteDomain,jdbcType=VARCHAR},
      </if>
      <if test="templateId != null" >
        template_id = #{templateId,jdbcType=INTEGER},
      </if>
      <if test="isHtml != null" >
        is_html = #{isHtml,jdbcType=BIT},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null" >
        create_user = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="origin != null" >
        origin = #{origin,jdbcType=VARCHAR},
      </if>
      <if test="url != null" >
        url = #{url,jdbcType=VARCHAR},
      </if>
      <if test="seq != null" >
        seq = #{seq,jdbcType=INTEGER},
      </if>
      <if test="isComment != null" >
        is_comment = #{isComment,jdbcType=BIT},
      </if>
      <if test="titleStyle != null" >
        title_style = #{titleStyle,jdbcType=VARCHAR},
      </if>
      <if test="keywords != null" >
        keywords = #{keywords,jdbcType=VARCHAR},
      </if>
      <if test="code != null" >
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="filed1 != null" >
        filed1 = #{filed1,jdbcType=VARCHAR},
      </if>
      <if test="ztType != null" >
        zt_type = #{ztType,jdbcType=VARCHAR},
      </if>
      <if test="zjType != null" >
        zj_type = #{zjType,jdbcType=VARCHAR},
      </if>
      <if test="isTop != null" >
        is_top = #{isTop,jdbcType=BIT},
      </if>
      <if test="isPicture != null" >
        is_picture = #{isPicture,jdbcType=BIT},
      </if>
      <if test="createUserName != null" >
        create_user_name = #{createUserName,jdbcType=VARCHAR},
      </if>
      <if test="checker != null" >
        checker = #{checker,jdbcType=VARCHAR},
      </if>
      <if test="checkerName != null" >
        checker_name = #{checkerName,jdbcType=VARCHAR},
      </if>
      <if test="clickCount != null" >
        click_count = #{clickCount,jdbcType=INTEGER},
      </if>
      <if test="isDelete != null" >
        is_delete = #{isDelete,jdbcType=BIT},
      </if>
      <if test="deleteUser != null" >
        delete_user = #{deleteUser,jdbcType=VARCHAR},
      </if>
      <if test="contentText != null" >
        content_text = #{contentText,jdbcType=LONGVARCHAR},
      </if>
       <if test="topTitle != null" >
        top_title = #{topTitle,jdbcType=VARCHAR},
       </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.dm.cms.model.CmsContent" >
    update cms_content
    set title = #{title,jdbcType=VARCHAR},
      title_image_url = #{titleImageUrl,jdbcType=VARCHAR},
      title_image_illustrate = #{titleImageIllustrate,jdbcType=VARCHAR},
      brief = #{brief,jdbcType=VARCHAR},
      content_type = #{contentType,jdbcType=INTEGER},
      author = #{author,jdbcType=VARCHAR},
      publish_date = #{publishDate,jdbcType=TIMESTAMP},
      channel_id = #{channelId,jdbcType=INTEGER},
      channel_en_name = #{channelEnName,jdbcType=VARCHAR},
      site_domain = #{siteDomain,jdbcType=VARCHAR},
      template_id = #{templateId,jdbcType=INTEGER},
      is_html = #{isHtml,jdbcType=BIT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      create_user = #{createUser,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      status = #{status,jdbcType=INTEGER},
      origin = #{origin,jdbcType=VARCHAR},
      url = #{url,jdbcType=VARCHAR},
      seq = #{seq,jdbcType=INTEGER},
      is_comment = #{isComment,jdbcType=BIT},
      title_style = #{titleStyle,jdbcType=VARCHAR},
      keywords = #{keywords,jdbcType=VARCHAR},
      code = #{code,jdbcType=VARCHAR},
      filed1 = #{filed1,jdbcType=VARCHAR},
      zt_type = #{ztType,jdbcType=VARCHAR},
      zj_type = #{zjType,jdbcType=VARCHAR},
      is_top = #{isTop,jdbcType=BIT},
      is_picture = #{isPicture,jdbcType=BIT},
      create_user_name = #{createUserName,jdbcType=VARCHAR},
      checker = #{checker,jdbcType=VARCHAR},
      checker_name = #{checkerName,jdbcType=VARCHAR},
      click_count = #{clickCount,jdbcType=INTEGER},
      is_delete = #{isDelete,jdbcType=BIT},
      delete_user = #{deleteUser,jdbcType=VARCHAR},
      content_text = #{contentText,jdbcType=LONGVARCHAR},
      top_title = #{topTitle,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.dm.cms.model.CmsContent" >
    update cms_content
    set title = #{title,jdbcType=VARCHAR},
      title_image_url = #{titleImageUrl,jdbcType=VARCHAR},
      title_image_illustrate = #{titleImageIllustrate,jdbcType=VARCHAR},
      brief = #{brief,jdbcType=VARCHAR},
      content_type = #{contentType,jdbcType=INTEGER},
      author = #{author,jdbcType=VARCHAR},
      publish_date = #{publishDate,jdbcType=TIMESTAMP},
      channel_id = #{channelId,jdbcType=INTEGER},
      channel_en_name = #{channelEnName,jdbcType=VARCHAR},
      site_domain = #{siteDomain,jdbcType=VARCHAR},
      template_id = #{templateId,jdbcType=INTEGER},
      is_html = #{isHtml,jdbcType=BIT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      create_user = #{createUser,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      status = #{status,jdbcType=INTEGER},
      origin = #{origin,jdbcType=VARCHAR},
      url = #{url,jdbcType=VARCHAR},
      seq = #{seq,jdbcType=INTEGER},
      is_comment = #{isComment,jdbcType=BIT},
      title_style = #{titleStyle,jdbcType=VARCHAR},
      keywords = #{keywords,jdbcType=VARCHAR},
      code = #{code,jdbcType=VARCHAR},
      filed1 = #{filed1,jdbcType=VARCHAR},
      zt_type = #{ztType,jdbcType=VARCHAR},
      zj_type = #{zjType,jdbcType=VARCHAR},
      is_top = #{isTop,jdbcType=BIT},
      is_picture = #{isPicture,jdbcType=BIT},
      create_user_name = #{createUserName,jdbcType=VARCHAR},
      checker = #{checker,jdbcType=VARCHAR},
      checker_name = #{checkerName,jdbcType=VARCHAR},
      click_count = #{clickCount,jdbcType=INTEGER},
      is_delete = #{isDelete,jdbcType=BIT},
      delete_user = #{deleteUser,jdbcType=VARCHAR},
       top_title = #{topTitle,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>

    <select id="selectRecordByArgMap" resultMap="ResultMapWithBLOBs"
            parameterType="java.util.Map">
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from cms_content
        <where> 
        1=1
        	<if test="channelIds!=null">
        	 and channel_id in
			<foreach item="item" index="index" collection="channelIds" open="(" separator="," close=")">  
			  #{item}  
			 </foreach>
			 </if>
            <if test="model != null">
                <if test="model.siteDomain != null">
                    and site_domain = #{model.siteDomain}
                </if>
                <if test="model.title != null">
                    and title like CONCAT(CONCAT('%', #{model.title}),'%')
                </if>
                <if test="model.status !=null">
                	and status = #{model.status}
                </if>
                <if test="model.isHtml !=null">
                	and is_html = #{model.isHtml}
                </if>
                <if test="model.isTop !=null">
                	and is_top = #{model.isTop}
                </if>
                <if test="model.isPicture !=null">
                	and is_picture = #{model.isPicture}
                </if>
                <if test="model.isDelete!=null">
                	and is_delete=#{model.isDelete}
                </if>
                <if test="model.deleteUser!=null">
                	and delete_user=#{model.deleteUser}
                </if>
            </if>
        </where>
        <if test="sort!=null and sort!=''">
        	order by ${sort}
        </if>
    </select>
    
    <select id="selectViewByReord" resultMap="BaseViewResultMap"
            parameterType="java.util.Map">
        select
        id,channel_id,title,channel_type,display_name,url,status
        from check_view
        <where>
            <if test="model != null">
                <if test="model.title != null">
                    and title like CONCAT(CONCAT('%', #{model.title}),'%')
                </if>
                <if test="model.status !=null">
                	and status = #{model.status}
                </if>
            </if>
        </where>
        <if test="sort!=null and sort!=''">
        	order by ${sort}
        </if>
    </select>
    
	<select id="selectRecordByPage" resultMap="ResultMapWithBLOBs"
            parameterType="java.util.Map">
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from cms_content
        <where>
        	channel_id  = #{channelId}
        	<if test="status!=null and status!=''">
		        and status in
		        <foreach collection="status" item="item" open="(" close=")" separator=",">
					#{item}
				</foreach>
      		</if>
      		<if test="isDelete!=null">
      			and is_delete=#{isDelete}
      		</if>
      		<if test="deleteUser!=null">
      			and delete_user=#{deleteUser}
      		</if>
        </where>
        <if test="sort!=null and sort!=''">
        	order by ${sort}
        </if>
        limit #{pageStart},#{pageSize}
    </select>
    <select id="selectByParams" resultMap="ResultMapWithBLOBs"
            parameterType="java.util.Map">
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from cms_content
        where id=#{contentId} and site_domain = #{domain} and channel_en_name = #{enName}
        <if test="isDelete!=null">
      			and is_delete=#{isDelete}
      		</if>
      		<if test="deleteUser!=null">
      			and delete_user=#{deleteUser}
      		</if>
    </select>
    
     <select id="selectCount" parameterType="java.lang.Integer" resultType="java.lang.Integer" >
        select
        count(*)
        from cms_content
        where channel_id in
        <foreach item="item" index="index" collection="channelIds" open="(" separator="," close=")">  
			  #{item}  
		</foreach>
    </select>
    
    <insert id="insertAttachment" parameterType="java.lang.Integer">
        insert
        into cms_content_attachment(content_id, attachment_id)
        values
        (#{contentId,jdbcType=INTEGER},#{attachmentId,jdbcType=INTEGER})
    </insert>
    <delete id="deleteAttachment" parameterType="java.lang.Integer">
        DELETE FROM cms_content_attachment where content_id = #{contentId,jdbcType=INTEGER}
    </delete>

    <select id="selectAttachementByCmsContentId" resultMap="AttachmentMap" parameterType="int">
        SELECT t1.id,t1.attachment_name,t1.attachment_url,t1.file_size
        FROM cms_attachment t1
        LEFT JOIN cms_content_attachment t2 ON t1.id=t2.attachment_id
        WHERE t2.content_id = #{contentId,jdbcType=INTEGER}
    </select>

    <select id="selectAttachmentIdsByCMsContentId" resultType="string" parameterType="int">
        SELECT GROUP_CONCAT(t1.id)
        FROM cms_attachment t1
        LEFT JOIN cms_content_attachment t2 ON t1.id=t2.attachment_id
        WHERE t2.content_id = #{contentId,jdbcType=INTEGER}
    </select>
    <select id="selectContentIdsByAttachmentId" resultType="string" parameterType="int">
    	SELECT GROUP_CONCAT(content_id)
        FROM cms_content_attachment 
        where attachment_id = #{id}
    </select>
</mapper>
